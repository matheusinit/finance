<div class="mx-auto max-w-screen-xl">
  <div class="mt-10 rounded-md border border-gray-200">
    <div class="flex w-full items-center justify-between px-6 pb-3 pt-3">
      <div class="flex items-baseline space-x-2">
        <h4 class="font-bold text-gray-800">
          <%= @receipt.name %>
        </h4>
        <div class="inline-flex rounded-2xl bg-purple-100 px-2 py-1 text-xs font-bold text-purple-500">
          <% if @incomes.count == 1 %>
            <%= @incomes.count %> item
          <% end %>

          <% if @incomes.count != 1 %>
            <%= @incomes.count %> itens
          <% end %>
        </div>
      </div>
    
      <div class="flex space-x-2">
        <%= link_to "/receipt/#{@receipt.id}/income/new", class: "flex items-center text-sm rounded-md bg-green-600 text-white space-x-1 fill-white px-1.5 py-1 shadow hover:bg-green-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-800" do %>
          <%= inline_svg_tag "plus.svg", class: 'size-4' %>

          <span>Ganho</span>
        <% end %>

        <%= link_to "/receipt/#{@receipt.id}/expense/new", class: "flex items-center text-sm rounded-md bg-red-600 text-white space-x-1 fill-white px-1.5 py-1 shadow hover:bg-red-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-red-800" do %>
          <%= inline_svg_tag "plus.svg", class: 'size-4' %>

          <span>Despesa</span>
        <% end %>
      </div>
    </div>
    
    <div class="flex flex-col space-y-1 border-t px-6 pb-3 pt-3">
      <div class="text-sm text-gray-700">
        <span class="font-semibold text-gray-600">
          Mês/Ano: 
        </span>
        <span>
          <%= l(@receipt.created_at, format: "%B/%Y") %>
        </span>
      </div>

      <div class="text-sm text-gray-700">
        <span class="font-semibold text-gray-600">
          Última atualização: 
        </span>
        <span>
          <%= l(@receipt.created_at, format: "%d/%m/%Y") %>
        </span>
      </div>

      <% if @expenses.count == 0 %>
        <div class="text-gray-700 text-sm flex items-center space-x-1">
          <%= inline_svg "expense.svg", class: 'fill-red-600 size-5 stroke-1' %>
          <span>
            Não há despesas cadastradas
          </span>
        </div>
      <% end %>

      <% if @incomes.count == 0 %>
        <div class="text-gray-700 text-sm flex items-center space-x-1">
          <%= inline_svg "income.svg", class: 'fill-green-600 size-5 stroke-1' %>
          <span>
            Não há ganhos cadastrados
          </span>
        </div>
      <% end %>
    </div>

    <% if @incomes.count > 0 %>
      <%= render "partials/income_table", collection: @incomes %>
    <% end %>

    <% if @expenses.count > 0 %>
      <%= render "partials/expense_table", collection: @expenses %>
    <% end %>
  </div>
<div>
